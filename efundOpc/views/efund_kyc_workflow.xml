<odoo>
  <data noupdate="0">
    <!-- Cron: periodic global re-screening -->
    <record id="ir_cron_kyc_periodic" model="ir.cron">
      <field name="name">KYC periodic screening</field>
      <field name="model_id" ref="model_fund_investor"/>
      <field name="state">code</field>
      <field name="code">model.search([('status','in',['kyc_approved','kyc_pending'])])._run_screening()</field>
      <field name="interval_number">1</field>
      <field name="interval_type">weeks</field>
      <field name="numbercall">-1</field>
      <field name="active">True</field>
    </record>

    <!-- Server action to trigger screening manually -->
    <record id="action_server_run_screening" model="ir.actions.server">
      <field name="name">Run Screening for selected Investors</field>
      <field name="model_id" ref="model_fund_investor"/>
      <field name="state">code</field>
      <field name="code">action = records._run_screening()</field>
    </record>

  </data>
</odoo>
