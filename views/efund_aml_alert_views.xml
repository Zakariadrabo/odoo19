<odoo>
    <!-- TREE VIEW -->
    <record id="view_aml_alert_tree" model="ir.ui.view">
        <field name="name">efund.aml.alert.tree</field>
        <field name="model">efund.aml.alert</field>
        <field name="arch" type="xml">
            <list string="AML Alerts" decoration-danger="severity == 'critical'" decoration-warning="severity == 'suspicious'">
                <field name="name"/>
                <field name="investor_id"/>
                <field name="fund_id"/>
                <field name="alert_date"/>
                <field name="severity"/>
                <field name="status"/>
                <field name="score"/>
                <field name="assigned_to"/>
            </list>
        </field>
    </record>

    <!-- FORM VIEW -->
    <record id="view_aml_alert_form" model="ir.ui.view">
        <field name="name">efund.aml.alert.form</field>
        <field name="model">efund.aml.alert</field>
        <field name="arch" type="xml">
            <form string="AML Alert" class="o_form_readonly_mode">
                <sheet>
                    <h1>
                        <field name="name"/>
                        <span class="badge" attrs="{'invisible': [('status', '=', 'closed')]}">
                            <field name="status"/>
                        </span>
                    </h1>
                    <group>
                        <group>
                            <field name="investor_id"/>
                            <field name="fund_id"/>
                            <field name="alert_date"/>
                            <field name="severity"/>
                            <field name="score"/>
                        </group>
                        <group>
                            <field name="status"/>
                            <field name="assigned_to"/>
                            <field name="closed_at" readonly="1"/>
                        </group>
                    </group>

                    <notebook>
                        <page string="Trigger Details">
                            <field name="trigger" nolabel="1"/>
                        </page>
                        <page string="Matched Transactions">
                            <field name="matched_transactions" widget="many2many_tags"/>
                        </page>
                        <page string="Resolution">
                            <field name="resolution_notes" nolabel="1"/>
                            <field name="document_ids" widget="many2many_binary" filename="name"/>
                        </page>
                    </notebook>
                </sheet>

                <footer>
                    <button string="Mark Reviewed" type="object" name="action_mark_reviewed"
                            class="btn-secondary" attrs="{'invisible': [('status', '!=', 'new')]}"/>
                    <button string="Escalate" type="object" name="action_escalate"
                            class="btn-warning" attrs="{'invisible': [('status', 'not in', ['reviewed'])]}"/>
                    <button string="Close Alert" type="object" name="action_close"
                            class="btn-primary" attrs="{'invisible': [('status', '=', 'closed')]}"/>
                    <button string="Cancel" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>


</odoo>
